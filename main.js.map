{"version":3,"file":"main.js","mappings":"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","sources":["webpack://webpack5/./src/js/validator.js","webpack://webpack5/./src/js/whatCardIssuer.js","webpack://webpack5/./src/js/widget.js","webpack://webpack5/./src/js/app.js","webpack://webpack5/./src/index.js"],"sourcesContent":["export function isValidCard(value) {\n  value = value.toString();\n  let sum = 0;\n  for (let i = 0; i < value.length; i++) {\n    let digit = parseInt(value[i]);\n    if (i % 2 === 0) {\n      digit = digit * 2;\n      if (digit > 9) {\n        digit = digit - 9;\n      }\n    }\n    sum += digit;\n  }\n  return sum % 10 === 0 ? true : false;\n}\n","import data from \"./cardsInfo.json\";\n\nexport function whatCardIssuer(value) {\n  value = String(value);\n  for (let i = 0; i < data.length; i++) {\n    const firstNums = data[i].firstNum;\n    if (\n      Array.isArray(firstNums) &&\n      firstNums.some((num) => value.startsWith(num)) &&\n      value.length >= data[i].minLength &&\n      value.length <= data[i].maxLength\n    ) {\n      return data[i].name;\n    } else if (\n      value.startsWith(firstNums) &&\n      value.length >= data[i].minLength &&\n      value.length <= data[i].maxLength\n    ) {\n      return data[i].name;\n    }\n  }\n  return null;\n}\n","import { isValidCard } from \"./validator\";\nimport { whatCardIssuer } from \"./whatCardIssuer\";\n\nexport default class cardNumberWidget {\n  constructor(parentEl) {\n    this.parentEl = parentEl;\n\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onInput = this.onInput.bind(this);\n  }\n\n  static get markup() {\n    return `\n      <form class=\"card-form-widget\">\n        <div class=\"cards-types\">\n          <div class=\"card-img visa\"></div>\n          <div class=\"card-img master-card\"></div>\n          <div class=\"card-img american-express\"></div>\n          <div class=\"card-img discover\"></div>\n          <div class=\"card-img jcb\"></div>\n          <div class=\"card-img diners-club\"></div>\n          <div class=\"card-img mir\"></div>\n        </div>\n        <div class=\"input-field\">\n          <input type=\"text\" class=\"input\" placeholder=\"Credit card number\">\n          <button class=\"submit\">Click to Validate</button>\n        </div>\n      </form>\n   `;\n  }\n\n  static get submitSelector() {\n    return \".submit\";\n  }\n\n  static get inputSelector() {\n    return \".input\";\n  }\n\n  static get fieldSelector() {\n    return \".input-field\";\n  }\n\n  static get selector() {\n    return \".card-form-widget\";\n  }\n\n  bindToDOM() {\n    this.parentEl.insertAdjacentHTML(\"afterbegin\", cardNumberWidget.markup);\n\n    this.element = this.parentEl.querySelector(cardNumberWidget.selector);\n    this.field = this.element.querySelector(cardNumberWidget.fieldSelector);\n    this.input = this.element.querySelector(cardNumberWidget.inputSelector);\n    this.submit = this.element.querySelector(cardNumberWidget.submitSelector);\n\n    this.input.addEventListener(\"input\", this.onInput);\n    this.element.addEventListener(\"submit\", this.onSubmit);\n  }\n\n  onInput(e) {\n    e.preventDefault();\n\n    const value = this.input.value;\n    const cards = [...this.parentEl.querySelectorAll(\".card-img\")];\n\n    const cardName = whatCardIssuer(value);\n    for (let i = 0; i < cards.length; i++) {\n      if (value === \"\") {\n        cards[i].classList.remove(\"find-card-type\");\n      }\n\n      if (cards[i].classList.contains(cardName)) {\n        cards[i].classList.add(\"find-card-type\");\n      }\n    }\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n\n    const value = this.input.value;\n\n    if (isValidCard(value)) {\n      this.field.classList.add(\"valid\");\n      this.field.classList.remove(\"invalid\");\n    } else {\n      this.field.classList.add(\"invalid\");\n      this.field.classList.remove(\"valid\");\n    }\n  }\n}\n","import cardNumberWidget from \"./widget\";\nimport \"../css/style.css\";\n\nconst container = document.querySelector(\".container\");\nconst widget = new cardNumberWidget(container);\n\nwidget.bindToDOM();\n","import \"./css/style.css\";\n\nimport \"./js/app\";\n\n// TODO: write your code in app.js\n"],"names":["isValidCard","value","toString","sum","i","length","digit","parseInt","data","whatCardIssuer","String","firstNums","firstNum","Array","isArray","some","num","startsWith","minLength","maxLength","name","cardNumberWidget","constructor","parentEl","onSubmit","bind","onInput","markup","submitSelector","inputSelector","fieldSelector","selector","bindToDOM","insertAdjacentHTML","element","querySelector","field","input","submit","addEventListener","e","preventDefault","cards","querySelectorAll","cardName","classList","remove","contains","add","container","document","widget"],"sourceRoot":""}